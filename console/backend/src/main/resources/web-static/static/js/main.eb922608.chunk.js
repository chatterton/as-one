(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e){e.exports=[{x:30,y:5},{x:29,y:5},{x:28,y:5},{x:27,y:5},{x:27,y:6},{x:27,y:7},{x:27,y:8},{x:28,y:8},{x:29,y:8},{x:30,y:8},{x:30,y:7},{x:30,y:6},{x:30,y:4},{x:30,y:3},{x:30,y:2},{x:29,y:2},{x:28,y:2},{x:27,y:2},{x:27,y:3},{x:27,y:4},{x:25,y:5},{x:24,y:5},{x:23,y:5},{x:22,y:5},{x:22,y:6},{x:22,y:7},{x:22,y:8},{x:23,y:8},{x:24,y:8},{x:25,y:8},{x:25,y:7},{x:25,y:6},{x:25,y:4},{x:25,y:3},{x:25,y:2},{x:24,y:2},{x:23,y:2},{x:22,y:2},{x:22,y:3},{x:22,y:4},{x:20,y:2},{x:20,y:3},{x:20,y:4},{x:20,y:5},{x:20,y:6},{x:20,y:7},{x:20,y:8},{x:17,y:9},{x:16,y:9},{x:15,y:9},{x:14,y:9},{x:13,y:9},{x:13,y:8},{x:14,y:8},{x:15,y:8},{x:16,y:8},{x:17,y:8},{x:17,y:7},{x:16,y:7},{x:15,y:7},{x:14,y:7},{x:13,y:7},{x:18,y:2},{x:17,y:2},{x:16,y:2},{x:16,y:3},{x:16,y:4},{x:17,y:4},{x:18,y:4},{x:18,y:3},{x:18,y:1},{x:18,y:0},{x:17,y:0},{x:16,y:0},{x:16,y:1},{x:14,y:2},{x:13,y:2},{x:12,y:2},{x:12,y:3},{x:12,y:4},{x:13,y:4},{x:14,y:4},{x:14,y:3},{x:14,y:1},{x:14,y:0},{x:13,y:0},{x:12,y:0},{x:12,y:1},{x:10,y:5},{x:9,y:5},{x:8,y:5},{x:7,y:5},{x:7,y:6},{x:7,y:7},{x:7,y:8},{x:8,y:8},{x:9,y:8},{x:10,y:8},{x:10,y:7},{x:10,y:6},{x:10,y:4},{x:10,y:3},{x:10,y:2},{x:9,y:2},{x:8,y:2},{x:7,y:2},{x:7,y:3},{x:7,y:4},{x:5,y:5},{x:4,y:5},{x:3,y:5},{x:2,y:5},{x:2,y:6},{x:2,y:7},{x:2,y:8},{x:3,y:8},{x:4,y:8},{x:5,y:8},{x:5,y:7},{x:5,y:6},{x:5,y:4},{x:5,y:3},{x:5,y:2},{x:4,y:2},{x:3,y:2},{x:2,y:2},{x:2,y:3},{x:2,y:4},{x:0,y:2},{x:0,y:3},{x:0,y:4},{x:0,y:5},{x:0,y:6},{x:0,y:7},{x:0,y:8}]},235:function(e,t,n){e.exports=n(518)},239:function(e,t,n){},246:function(e,t){},248:function(e,t){},321:function(e,t){},322:function(e,t){},326:function(e,t,n){},441:function(e,t,n){},517:function(e,t,n){},518:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(51),o=n.n(c),s=(n(239),n(231)),i=n.n(s),y=(n(326),n(26)),u=n.n(y),x=n(41),l=n(19),f=n(73),m=n.n(f),p={error:function(e){console.error(e)},log:function(e){console.log(e)}};function h(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e},[e]),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}var b=n(75),d=n(25);function v(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)(!0),i=Object(l.a)(s,2),y=i[0],f=i[1],v=Object(a.useState)(null),E=Object(l.a)(v,2),g=E[0],O=E[1];function j(e,t){var n=1e3*e;return n+=t/1e6}function w(){return(w=Object(x.a)(u.a.mark(function t(){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get(e.url);case 3:n=t.sent,o(n.data),f(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),p.error(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}))).apply(this,arguments)}Object(a.useEffect)(function(){var e={name:"readings",columns:["time","s1","s2","s3","s4"],points:[]};if(c.length>0){var t=c.reverse(),n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value,y=[],u=j(i.timestamp.seconds,i.timestamp.nanos);y.push(u),y.push(i.s1),y.push(i.s2),y.push(i.s3),y.push(i.s4),e.points.push(y)}}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}var x=new d.TimeSeries(e);O(x)}},[c]),h(function(){!function(){w.apply(this,arguments)}()},250);return r.a.createElement(r.a.Fragment,null,y||null==g?"Loading ...":r.a.createElement(b.ChartContainer,{timeRange:g.timerange(),width:668},r.a.createElement(b.ChartRow,{height:"300",showGrid:!0},r.a.createElement(b.YAxis,{id:"axis1",min:300,max:650,width:28,type:"linear",format:".0f"}),r.a.createElement(b.Charts,null,r.a.createElement(b.LineChart,{axis:"axis1",series:g,columns:["s1","s2","s3","s4"],style:{s1:{stroke:"#a02c2c",opacity:.5},s2:{stroke:"#b03c3c",opacity:.5},s3:{stroke:"#c04c4c",opacity:.5},s4:{stroke:"#d05c5c",opacity:.5}}})))))}var E=n(74),g=n.n(E),O=n(28),j=n.n(O);function w(){var e="/sensors",t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],o=n[1];function s(){return(s=Object(x.a)(u.a.mark(function t(){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get(e);case 3:n=t.sent,o(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),p.error(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}return h(function(){!function(){s.apply(this,arguments)}()},1e3),Object(a.useEffect)(function(){}),c.map(function(e){return r.a.createElement(g.a,{key:e},r.a.createElement(j.a,{md:0,lg:1}),r.a.createElement(j.a,null,r.a.createElement(v,{url:"/sensors/"+e})),r.a.createElement(j.a,{md:0,lg:1}))})}n(441);var k=n(232),S=n.n(k);function q(e){var t=e.mqtt,n=Object(a.useState)(!1),c=Object(l.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)(!1),y=Object(l.a)(i,2),f=y[0],m=y[1];return Object(a.useEffect)(function(){function e(){return(e=Object(x.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.subscribe("asOne/#");case 3:return p.log("subscribed mqttindicator"),e.next=6,t.publish("asOne/hello","hello from console");case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),p.error("error connecting to mqtt"),p.error(e.t0);case 12:t.on("message",function(){s(!0)});case 13:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}f||(!function(){e.apply(this,arguments)}(),m(!0))},[t,f]),S()(function(){s(!1)},50),r.a.createElement("div",{className:o?"indicator-blink":"indicator"},r.a.createElement("span",{role:"img","aria-label":"MQTT"},"\ud83d\udce2"))}var C=n(87),R=n(145),B=31,L=10,A="#222222",I=200;function N(e){var t=e.mqtt,n=Object(a.useState)(!1),c=Object(l.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)([]),y=Object(l.a)(i,2),f=y[0],m=y[1],h=Object(a.useState)([]),b=Object(l.a)(h,2),d=b[0],v=b[1],E=Object(a.useState)(I),g=Object(l.a)(E,2),O=g[0],j=g[1],w=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1];return[n,Object(a.useCallback)(function(e){function t(){null!==e&&r(e.getBoundingClientRect())}return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}},[])]}(),k=Object(l.a)(w,2),S=k[0],q=k[1];function N(e,t){return"key_"+e+"_"+t}function T(e){return e/B}return Object(a.useEffect)(function(){function e(){return(e=Object(x.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.subscribe("asOne/score/all/direct");case 3:p.log("subscribed scoreboardemulator"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),p.error("error connecting to mqtt"),p.error(e.t0);case 10:t.on("message",function(e,t){m(t)});case 11:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}o||(!function(){e.apply(this,arguments)}(),s(!0))},[t,o]),Object(a.useEffect)(function(){if(f){for(var e=[],t=0;t<f.length;t+=3){var n=(c=f[t],o=f[t+1],s=f[t+2],"#"+((1<<24)+(c<<16)+(o<<8)+s).toString(16).slice(1));e.push(n)}var a=T(O);e.map(function(e,t){var n=R[t].x,c=R[t].y,o=r.a.createElement(C.Rect,{x:a*n,y:a*c,width:a,height:a,fill:e,key:N(n,c)});return d[n][c]=o,e}),v(d)}var c,o,s},[f,d,O]),Object(a.useEffect)(function(){var e=200;S&&(e=S.width),j(e);for(var t=T(e),n=[],a=0;a<B;a++){for(var c=[],o=0;o<L;o++){var s=r.a.createElement(C.Rect,{x:t*a,y:t*o,width:t,height:t,fill:A,key:N(a,o)});c.push(s)}n.push(c)}v(n)},[S]),r.a.createElement("div",{ref:q},r.a.createElement(C.Stage,{width:O,height:O/3},r.a.createElement(C.Layer,null,d.flat())))}var T=n(233),z=n.n(T),J=n(146),W=n.n(J),_=n(234),F=n.n(_),G=i.a.connect("ws://"+window.location.hostname+":8181");var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z.a,{fluid:"true"},r.a.createElement(g.a,null,r.a.createElement(j.a,{md:0,lg:1}),r.a.createElement(j.a,{md:12,lg:10},r.a.createElement(W.a,{expand:"lg",variant:"dark",bg:"dark ",style:{marginBottom:"40px"}},r.a.createElement(W.a.Brand,{href:"#"},"As One"),r.a.createElement(F.a,{className:"ml-auto",style:{maxHeight:"32px"}},r.a.createElement(q,{mqtt:G})))),r.a.createElement(j.a,{md:0,lg:1})),r.a.createElement(g.a,null,r.a.createElement(j.a,{md:0,lg:1}),r.a.createElement(j.a,null,r.a.createElement(w,null)),r.a.createElement(j.a,{md:0,lg:1})),r.a.createElement(g.a,null,r.a.createElement(j.a,{md:0,lg:1}),r.a.createElement(j.a,null,r.a.createElement(N,{mqtt:G})),r.a.createElement(j.a,{md:0,lg:1}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(517);o.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[235,1,2]]]);
//# sourceMappingURL=main.eb922608.chunk.js.map